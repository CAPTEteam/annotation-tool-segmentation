image_b64 = "data:image/png;base64,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"
    image_data = re.sub('^data:image/.+;base64,', '', image_b64).decode('base64')
    image_PIL = Image.open(StringIO(image_b64))
    image_np = np.array(image_PIL)
    return 'Image received: {}'.format(image_np.shape)
   
    image_b64 = request.values['imageBase64']
    image_data = re.sub('^data:image/.+;base64,', '', image_b64).decode('base64')
    image_PIL = Image.open(cStringIO.StringIO(image_data))
    image_np = np.array(image_PIL)
